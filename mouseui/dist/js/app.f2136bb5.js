(function(){"use strict";var o={977:function(o,t,e){var n=e(9242),s=e(3396);function r(o,t,e,n,r,c){const a=(0,s.up)("mainPage");return(0,s.wg)(),(0,s.j4)(a)}var c=e(7139);const a={class:"container"},i=(0,s._)("div",{id:"controlBoxTitle"},"mouse Controls Main Page",-1),l={id:"containerBody"},u={id:"leftHalf"},d={class:"outerBtnGroup"},g={class:"innerBtnGroup"},m={class:"innerBtnGroup"},p={class:"innerBtnGroup"},b={class:"joypad-container"},h={class:"arrow-button-row"},v={class:"arrow-button-container"},k={class:"arrow-button-row"},f={class:"arrow-button-container"},_={class:"arrow-button-container"},w={class:"arrow-button-row"},y={class:"arrow-button-container"},C={id:"rightHalf"},S={id:"messageBox"};function D(o,t,e,n,r,D){return(0,s.wg)(),(0,s.iD)("div",a,[i,(0,s._)("div",l,[(0,s._)("div",u,[(0,s._)("div",d,[(0,s._)("div",g,[(0,s._)("button",{onClick:t[0]||(t[0]=o=>D.recordInputs()),class:(0,c.C_)(["btnControls",{live:r.recording}])},"Start Record",2),(0,s._)("button",{onClick:t[1]||(t[1]=o=>D.playbackInputs()),class:(0,c.C_)(["btnControls",{live:r.playback}])},"Start Playback",2)]),(0,s._)("div",m,[(0,s._)("button",{onClick:t[2]||(t[2]=o=>D.stopRecordInputs()),class:"btnControls"},"Stop Record"),(0,s._)("button",{onClick:t[3]||(t[3]=o=>D.stopPlayback()),class:"btnControls"},"Stop Playback")]),(0,s._)("div",p,[(0,s._)("button",{onClick:t[4]||(t[4]=o=>D.toggleLight()),class:"btnControls"},"Toggle light"),(0,s._)("button",{onClick:t[5]||(t[5]=o=>D.sendMessage()),class:"btnControls"},"Send Message")]),(0,s._)("button",{class:(0,c.C_)(["connected-button",{connected:r.micro_conn,"not-connected":!r.micro_conn}])}," Microcontroller Connection",2)]),(0,s._)("div",b,[(0,s._)("div",h,[(0,s._)("div",v,[(0,s._)("button",{onClick:t[6]||(t[6]=o=>D.moveAction("U")),class:"arrow-button arrow-up"},"▲")])]),(0,s._)("div",k,[(0,s._)("div",f,[(0,s._)("button",{onClick:t[7]||(t[7]=o=>D.moveAction("L")),class:"arrow-button arrow-left"},"▲")]),(0,s._)("div",_,[(0,s._)("button",{onClick:t[8]||(t[8]=o=>D.moveAction("R")),class:"arrow-button arrow-right"},"▲")])]),(0,s._)("div",w,[(0,s._)("div",y,[(0,s._)("button",{onClick:t[9]||(t[9]=o=>D.moveAction("D")),class:"arrow-button arrow-down"},"▲")])]),(0,s._)("button",{onClick:t[10]||(t[10]=o=>D.moveAction("S")),id:"stopBtn"},"STOP")])]),(0,s._)("div",C,[(0,s._)("div",S,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(r.messages_for_message_box,(o=>((0,s.wg)(),(0,s.iD)("div",{key:o},(0,c.zw)(o),1)))),128))])])])])}e(560);var O={name:"mainPage",data(){return{messages:[],socket:null,micro_conn:!1,messages_for_message_box:[],recording:!1,playback:!1}},props:{msg:String},methods:{moveAction(o){this.socket.send("[mv "+o+"]")},sendMessage(){this.socket.send("[hello]")},toggleLight(){this.socket.send("[toggle light]")},getDataStream(o){const t=/:\s*([\s\S]*)$/,e=o.data.match(t);if(e&&!(e.length<=1))return e[1].trim().split(/\s+/);console.log("invalid data parse")},recordInputs(){console.log("hit record"),this.socket.send("[record]")},playbackInputs(){console.log("hit playback"),this.socket.send("[playback]")},stopRecordInputs(){console.log("hit stop record"),this.socket.send("[done rec]")},stopPlayback(){console.log("stop playback"),this.socket.send("[stp play]")}},mounted(){this.socket=new WebSocket("ws://174.129.215.96:3000"),this.socket.onopen=()=>{this.socket.send("[webpage]"),console.log("Connection msg sent"),this.socket.send("[micro_conn]"),console.log("Checking for micro connection msg sent"),this.socket.send("[checkMovementDetection]"),console.log("Checking for movement detection")},this.socket.onmessage=o=>{this.messages.push(o.data),console.log(o.data);const t=/\[([^\]]+)\]/,e=o.data.match(t);console.log(`result: ${e}`),(!e||e.length<=1)&&console.log("Error: could not parse [command] format");const n=e[1];switch(console.log(`command: ${n}`),n){case"detected":{const t=this.getDataStream(o);alert(`Motion Detected! [${t}]`),console.log(`Motion Detected! [${t}]`);var s="";for(const o of t)""!==o.trim()&&(s+=o.trim()+" ");this.messages_for_message_box.push(`Motion Detected! ${s}`);break}case"ledStatus":{const t=this.getDataStream(o);console.log(`LED Status: ${t}`);break}case"toggleLight":{const t=this.getDataStream(o);console.log(`LED Status: ${t}`);break}case"motor":{const t=this.getDataStream(o);console.log(`motor msg: ${t}`);break}case"micro_conn":this.micro_conn=1==parseInt(this.getDataStream(o)),console.log(`micro_conn received: ${this.micro_conn}`);break;case"movementDetection":{let t=1==parseInt(this.getDataStream(o));console.log(`movement detection received: ${t}`),t&&this.messages_for_message_box.push("Motion Detected!");break}case"p/r err":alert("Cannot playback and record simultaneously! Press stop on running process"),console.log("playback/recording error");break;case"recording status":console.log("received recording status"),this.recording=1==parseInt(this.getDataStream(o));break;case"playback status":console.log("received playback status"),this.playback=1==parseInt(this.getDataStream(o));break;default:console.log("Error: invalid command read")}}}},P=e(89);const x=(0,P.Z)(O,[["render",D]]);var M=x,$={name:"App",components:{mainPage:M}};const I=(0,P.Z)($,[["render",r]]);var j=I;(0,n.ri)(j).mount("#app")}},t={};function e(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return o[n].call(r.exports,r,r.exports,e),r.exports}e.m=o,function(){var o=[];e.O=function(t,n,s,r){if(!n){var c=1/0;for(u=0;u<o.length;u++){n=o[u][0],s=o[u][1],r=o[u][2];for(var a=!0,i=0;i<n.length;i++)(!1&r||c>=r)&&Object.keys(e.O).every((function(o){return e.O[o](n[i])}))?n.splice(i--,1):(a=!1,r<c&&(c=r));if(a){o.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var u=o.length;u>0&&o[u-1][2]>r;u--)o[u]=o[u-1];o[u]=[n,s,r]}}(),function(){e.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(t,{a:t}),t}}(),function(){e.d=function(o,t){for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};e.O.j=function(t){return 0===o[t]};var t=function(t,n){var s,r,c=n[0],a=n[1],i=n[2],l=0;if(c.some((function(t){return 0!==o[t]}))){for(s in a)e.o(a,s)&&(e.m[s]=a[s]);if(i)var u=i(e)}for(t&&t(n);l<c.length;l++)r=c[l],e.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return e.O(u)},n=self["webpackChunkmouseui"]=self["webpackChunkmouseui"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(977)}));n=e.O(n)})();
//# sourceMappingURL=app.f2136bb5.js.map