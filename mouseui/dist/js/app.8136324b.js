(function(){"use strict";var o={9429:function(o,t,n){var e=n(9242),r=n(3396);function s(o,t,n,e,s,c){const a=(0,r.up)("mainPage");return(0,r.wg)(),(0,r.j4)(a)}var c=n(7139);const a={class:"container"},i=(0,r._)("div",{id:"controlBoxTitle"},"mouse Controls Main Page",-1),l={id:"containerBody"},u={id:"leftHalf"},d={class:"outerBtnGroup"},g={class:"innerBtnGroup"},m={class:"joypad-container"},f={class:"arrow-button-row"},h={class:"arrow-button-container"},v={class:"arrow-button-row"},b={class:"arrow-button-container"},p={class:"arrow-button-container"},w={class:"arrow-button-row"},_={class:"arrow-button-container"},k=(0,r._)("div",{id:"rightHalf"},[(0,r._)("div",{id:"messageBox"})],-1);function C(o,t,n,e,s,C){return(0,r.wg)(),(0,r.iD)("div",a,[i,(0,r._)("div",l,[(0,r._)("div",u,[(0,r._)("div",d,[(0,r._)("div",g,[(0,r._)("button",{onClick:t[0]||(t[0]=o=>C.toggleLight()),class:"btnControls"},"Toggle light"),(0,r._)("button",{onClick:t[1]||(t[1]=o=>C.sendMessage()),class:"btnControls"},"Send Message")]),(0,r._)("button",{class:(0,c.C_)(["connected-button",{connected:s.micro_conn,"not-connected":!s.micro_conn}])}," Microcontroller Connection",2)]),(0,r._)("div",m,[(0,r._)("div",f,[(0,r._)("div",h,[(0,r._)("button",{onClick:t[2]||(t[2]=o=>C.moveAction("U")),class:"arrow-button arrow-up"},"▲")])]),(0,r._)("div",v,[(0,r._)("div",b,[(0,r._)("button",{onClick:t[3]||(t[3]=o=>C.moveAction("L")),class:"arrow-button arrow-left"},"▲")]),(0,r._)("div",p,[(0,r._)("button",{onClick:t[4]||(t[4]=o=>C.moveAction("R")),class:"arrow-button arrow-right"},"▲")])]),(0,r._)("div",w,[(0,r._)("div",_,[(0,r._)("button",{onClick:t[5]||(t[5]=o=>C.moveAction("D")),class:"arrow-button arrow-down"},"▲")])])])]),k])])}n(560);var S={name:"mainPage",data(){return{messages:[],socket:null,micro_conn:!1}},props:{msg:String},methods:{moveAction(o){this.socket.send("[mv "+o+"]")},sendMessage(){this.socket.send("[hello]")},toggleLight(){this.socket.send("[toggle light]")},getDataStream(o){const t=/:\s*([\s\S]*)$/,n=o.data.match(t);if(n&&!(n.length<=1))return n[1].trim().split(/\s+/);console.log("invalid data parse")}},mounted(){this.socket=new WebSocket("ws://174.129.215.96:3000"),this.socket.onopen=()=>{this.socket.send("[webpage]"),console.log("Connection msg sent"),this.socket.send("[micro_conn]"),console.log("Checking for micro connection msg sent")},this.socket.onmessage=o=>{this.messages.push(o.data),console.log(o.data);const t=/\[([^\]]+)\]/,n=o.data.match(t);console.log(`result: ${n}`),(!n||n.length<=1)&&console.log("Error: could not parse [command] format");const e=n[1];switch(console.log(`command: ${e}`),e){case"detected":{const t=this.getDataStream(o);alert(`Motion Detected! [${t}]`),console.log(`Motion Detected! [${t}]`);break}case"ledStatus":{const t=this.getDataStream(o);console.log(`LED Status: ${t}`);break}case"toggleLight":{const t=this.getDataStream(o);console.log(`LED Status: ${t}`);break}case"hello":{const t=this.getDataStream(o);console.log(`hello msg: ${t}`);break}case"motor":{const t=this.getDataStream(o);console.log(`motor msg: ${t}`);break}case"micro_conn":this.micro_conn=1==parseInt(this.getDataStream(o)),console.log(`micro_conn received: ${this.micro_conn}`);break;default:console.log("Error: invalid command read")}}}},D=n(89);const O=(0,D.Z)(S,[["render",C]]);var y=O,$={name:"App",components:{mainPage:y}};const j=(0,D.Z)($,[["render",s]]);var M=j;(0,e.ri)(M).mount("#app")}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var s=t[e]={exports:{}};return o[e].call(s.exports,s,s.exports,n),s.exports}n.m=o,function(){var o=[];n.O=function(t,e,r,s){if(!e){var c=1/0;for(u=0;u<o.length;u++){e=o[u][0],r=o[u][1],s=o[u][2];for(var a=!0,i=0;i<e.length;i++)(!1&s||c>=s)&&Object.keys(n.O).every((function(o){return n.O[o](e[i])}))?e.splice(i--,1):(a=!1,s<c&&(c=s));if(a){o.splice(u--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var u=o.length;u>0&&o[u-1][2]>s;u--)o[u]=o[u-1];o[u]=[e,r,s]}}(),function(){n.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return n.d(t,{a:t}),t}}(),function(){n.d=function(o,t){for(var e in t)n.o(t,e)&&!n.o(o,e)&&Object.defineProperty(o,e,{enumerable:!0,get:t[e]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){n.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};n.O.j=function(t){return 0===o[t]};var t=function(t,e){var r,s,c=e[0],a=e[1],i=e[2],l=0;if(c.some((function(t){return 0!==o[t]}))){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(i)var u=i(n)}for(t&&t(e);l<c.length;l++)s=c[l],n.o(o,s)&&o[s]&&o[s][0](),o[s]=0;return n.O(u)},e=self["webpackChunkmouseui"]=self["webpackChunkmouseui"]||[];e.forEach(t.bind(null,0)),e.push=t.bind(null,e.push.bind(e))}();var e=n.O(void 0,[998],(function(){return n(9429)}));e=n.O(e)})();
//# sourceMappingURL=app.8136324b.js.map